<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/node_modules/bootstrap/dist/css/bootstrap.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
    <title>Registros</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>
    <content>
        <div *ngIf="buscado" style="height: 708px; overflow: auto;">
            <div class="ui negative message" *ngIf="!items.length">
                <div style="text-align: center;">
                    <p>No hay registros de visitantes</p>
                </div>
            </div>
            <div style="margin-bottom: 0px;" *ngIf="items.length">
                <div class="item item-divider">
                    Se encontraron {{(items | filter:search).length}} registros
                    <p>Tiempo promedio de visita: {{promedioVisitas((items | filter:search))}}</p>
                </div>
                <ion-item>
                    <ion-label>Buscar</ion-label>
                    <input class="form-control" type="text" placeholder="Buscar" aria-label="Buscar"
                        [(ngModel)]="search">
                </ion-item>
                <!--<div class="contenedor" *ngFor="let x of items | filter: search" (click)="seeDetails(x)"> -->
                <div class="contenedor" *ngFor="let x of items | filter: search" >
                    <div class="lista-imagen">
                        <!--<img src="{{env.HARVEST_URL}}{{x.foto}}" class="img-list"> -->
                    </div>
                    <div class="lista" [routerLink]="['/visitantes-view', x.id]">
                        <h2>{{x.nombre}}</h2>
                        <p><i class="fas fa-briefcase"></i> {{x.compania}}</p>
                        <p><i class="fas fa-car"></i> {{x.vehiculo}}</p>
                        <p><i class="fas fa-address-card"></i> {{x.gafete}}</p>
                    </div>
                    <div class="lista-info">
                        <div style="text-align: center;">
                            <b><p>{{x.tipo}}</p></b>
                            <p><i class="fas fa-arrow-right" style="color: rgb(0,200,0);"></i> {{x.entrada | date:'HH:mm aa'}}</p>
                            <p><i class="fas fa-arrow-left" style="color: rgb(200,0,0);" *ngIf="x.salida"></i> {{x.salida | date:'HH:mm aa'}}</p>
                            <p><i class="far fa-clock"></i> {{x.duracion}}</p>
                        </div>
                    </div>
                </div>
            </div>  
        </div>
    </content>
</body>
</html>

<ion-content *ngIf="buscado">
    
    <!-- <div class="floatingIcon" (click)="share()"><ion-icon name="print-outline" style="color: #FFFFFF"></ion-icon></div> -->
</ion-content>
  