<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
    <title>vistantes-create</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>
    <div class="elemento">
        <nav class="navbar bg-body-tertiary d-flex justify-content-between align-items-center"
            style="margin-top: 10px;">
            <a class="btn btn-danger me-2" type="button" style="margin-left: 10px;" (click)="dismiss(null)">Cancelar<i
                    class="fas fa-times"></i></a>
            <span class="navbar-brand mb-0 h1">Nuevo visitante</span>
            <button type="button" class="btn btn-success" *ngIf="nuevoVisitante.tipo && nuevoVehiculo.modelo"
                (click)="guardarVisitante()">Guardar</button>
            <div></div> <!-- Esto crea un espacio en blanco entre el botón y el título -->
        </nav>
    </div>

    <content>
        <div class="elemento2">
            <mdb-tabs [fill]="true">
                <mdb-tab title="Agregar">
                    <ion-card>
                        <div class="item-divider">Fotos</div>
                        <div class="imagenes">
                            <div>
                                <img (click)="tomarFoto('foto')" src="assets/img/nopic.png"
                                    *ngIf="!nuevoVisitante.foto" style="width: 80px;">
                                <img (click)="tomarFoto('foto')" style="border-radius: 50%; width: 80px;"
                                    src="{{nuevoVisitante.foto}}" *ngIf="nuevoVisitante.foto">

                            </div>
                            <div>
                                <img (click)="tomarFoto('identificacion')" src="assets/img/noid.png"
                                    *ngIf="!nuevoVisitante.identificacion" style="width: 80px;">
                                <img (click)="tomarFoto('identificacion')" style="width: 80px;"
                                    src="{{nuevoVisitante.identificacion}}" *ngIf="nuevoVisitante.identificacion">
                            </div>
                            <div>
                                <img (click)="tomarFoto('identificacion2')" src="assets/img/noid2.png"
                                    *ngIf="!nuevoVisitante.identificacion2" style="width: 80px;">
                                <img (click)="tomarFoto('identificacion2')" style="width: 80px;"
                                    src="{{nuevoVisitante.identificacion2}}" *ngIf="nuevoVisitante.identificacion2">
                            </div>
                        </div>
                    </ion-card>
                    <ion-card>
                        <div class="item-divider">Informacion personal</div>
                        <ion-item>
                            <!-- <ion-label style="font-size:12px;">Nombre completo</ion-label> -->
                            <ion-input [(ngModel)]="nuevoVisitante.nombre" placeholder="Nombre completo"></ion-input>
                        </ion-item>
                        <ion-item>
                            <ion-select style="width:100%" placeholder="Seleccionar tipo de visitante"
                                cancel-text="Cancelar" ok-text="Aceptar" [(ngModel)]="tipo_visitante"
                                (ngModelChange)="setVisitante()">
                                <ion-select-option *ngFor="let v of tipos" [value]="v">{{v.nombre}}</ion-select-option>
                            </ion-select>
                        </ion-item>
                        <div style="height: 48px;">
                            <div style="max-width: 100%; width: calc(100% - 40px)!important; float: left;">
                                <ion-select style="width: 100%;" placeholder="Seleccionar empresa"
                                    cancel-text="Cancelar" ok-text="Aceptar" [(ngModel)]="empresa"
                                    (ngModelChange)="setEmpresa()">
                                    <ion-select-option *ngFor="let v of empresas"
                                        [value]="v">{{v.nombre}}</ion-select-option>
                                </ion-select>
                            </div>
                        </div>
                    </ion-card>
                    <ion-card>
                        <div class="item-divider">Nuevo vehiculo</div>
                        <ion-item>
                            <ion-input [(ngModel)]="nuevoVehiculo.modelo" placeholder="Modelo"></ion-input>
                        </ion-item>
                        <ion-item>
                            <ion-input type="number" [(ngModel)]="nuevoVehiculo.anio" placeholder="Año"></ion-input>
                        </ion-item>
                        <ion-item>
                            <ion-input [(ngModel)]="nuevoVehiculo.placas" placeholder="Placas"></ion-input>
                        </ion-item>
                    </ion-card>
                    <ion-card>
                        <div class="item-divider">Firma</div>
                        <canvas id="pad" #canvas width="350" height="200" style="touch-action: none;"></canvas>

                        <div class="d-grid gap-2">
                            <button type="button" class="btn btn-warning" (click)="clearSignature()">Limpiar</button>
                        </div>

                    </ion-card>
                </mdb-tab>
                <mdb-tab title="Agregar Empresa">
                    <div class="contenido">
                        <div>
                            <div class="item-divider">Nueva empresa</div>
                            <ion-item>
                                <input class="form-control" type="text" placeholder="Nombre" aria-label="Nombre"
                                    [(ngModel)]="nuevaEmpresa.Nombre">
                            </ion-item>
                            <div class="d-grid gap-2">
                                <button class="btn btn-primary" type="button"
                                    (click)="guardarEmpresa()">Aceptar</button>
                            </div>
                        </div>
                    </div>
                </mdb-tab>
            </mdb-tabs>




        </div>
    </content>

</body>

</html>